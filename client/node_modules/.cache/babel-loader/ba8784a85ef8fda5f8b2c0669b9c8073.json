{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\konst\\\\Desktop\\\\OnlineShop\\\\Online_Shop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { store } from \"../../store\";\nimport { debounce } from \"throttle-debounce\";\nimport objectFitImages from \"object-fit-images\";\nconst WINDOW_RESIZE = \"COMMON/WINDOW_RESIZE\";\nconst WINDOW_SCROLL = \"COMMON/WINDOW_SCROLL\";\nconst initialState = {\n  windowWidth: window.innerWidth,\n  windowHeight: window.innerHeight,\n  windowScrollTop: window.scrollY\n};\n\nconst reducer = (state = initialState, action) => {\n  const type = action.type,\n        payload = action.payload;\n\n  switch (type) {\n    case WINDOW_RESIZE:\n      return _objectSpread({}, state, {\n        windowWidth: payload.windowWidth\n      });\n\n    case WINDOW_SCROLL:\n      return _objectSpread({}, state, {\n        windowScrollTop: payload.scrollTop\n      });\n\n    default:\n      return state;\n  }\n}; // Actions\n\n\nconst windowResize = (windowWidth, windowHeight) => ({\n  type: WINDOW_RESIZE,\n  payload: {\n    windowWidth,\n    windowHeight\n  }\n});\n\nconst windowScroll = scrollTop => ({\n  type: WINDOW_SCROLL,\n  payload: {\n    scrollTop\n  }\n}); // Common handlers\n\n\nfunction handleWindowResize(event) {\n  store.dispatch(windowResize(window.innerWidth, window.innerHeight));\n}\n\nfunction handleWindowScroll(event) {\n  store.dispatch(windowScroll(window.scrollY));\n}\n\nfunction handleDOMLoaded(event) {\n  // object-fit polyfill\n  objectFitImages();\n}\n\nwindow.addEventListener(\"resize\", debounce(100, handleWindowResize));\nwindow.addEventListener(\"scroll\", debounce(100, handleWindowScroll));\nwindow.addEventListener(\"DOMContentLoaded\", handleDOMLoaded);\nexport { reducer };","map":{"version":3,"sources":["C:/Users/konst/Desktop/OnlineShop/Online_Shop/client/src/modules/common/index.js"],"names":["store","debounce","objectFitImages","WINDOW_RESIZE","WINDOW_SCROLL","initialState","windowWidth","window","innerWidth","windowHeight","innerHeight","windowScrollTop","scrollY","reducer","state","action","type","payload","scrollTop","windowResize","windowScroll","handleWindowResize","event","dispatch","handleWindowScroll","handleDOMLoaded","addEventListener"],"mappings":";;;;;;AAAA,SAAQA,KAAR,QAAoB,aAApB;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AAEA,MAAMC,aAAa,GAAG,sBAAtB;AACA,MAAMC,aAAa,GAAG,sBAAtB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,WAAW,EAAEC,MAAM,CAACC,UADD;AAEnBC,EAAAA,YAAY,EAAEF,MAAM,CAACG,WAFF;AAGnBC,EAAAA,eAAe,EAAEJ,MAAM,CAACK;AAHL,CAArB;;AAMA,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGT,YAAT,EAAuBU,MAAvB,KAAkC;AAAA,QACxCC,IADwC,GACtBD,MADsB,CACxCC,IADwC;AAAA,QAClCC,OADkC,GACtBF,MADsB,CAClCE,OADkC;;AAGhD,UAAQD,IAAR;AACE,SAAKb,aAAL;AACE,+BAAYW,KAAZ;AAAmBR,QAAAA,WAAW,EAAEW,OAAO,CAACX;AAAxC;;AAEF,SAAKF,aAAL;AACE,+BAAYU,KAAZ;AAAmBH,QAAAA,eAAe,EAAEM,OAAO,CAACC;AAA5C;;AAEF;AACE,aAAOJ,KAAP;AARJ;AAUD,CAbD,C,CAeA;;;AACA,MAAMK,YAAY,GAAG,CAACb,WAAD,EAAcG,YAAd,MAAgC;AACnDO,EAAAA,IAAI,EAAEb,aAD6C;AAEnDc,EAAAA,OAAO,EAAE;AAAEX,IAAAA,WAAF;AAAeG,IAAAA;AAAf;AAF0C,CAAhC,CAArB;;AAKA,MAAMW,YAAY,GAAGF,SAAS,KAAK;AACjCF,EAAAA,IAAI,EAAEZ,aAD2B;AAEjCa,EAAAA,OAAO,EAAE;AAAEC,IAAAA;AAAF;AAFwB,CAAL,CAA9B,C,CAKA;;;AACA,SAASG,kBAAT,CAA4BC,KAA5B,EAAmC;AACjCtB,EAAAA,KAAK,CAACuB,QAAN,CAAeJ,YAAY,CAACZ,MAAM,CAACC,UAAR,EAAoBD,MAAM,CAACG,WAA3B,CAA3B;AACD;;AAED,SAASc,kBAAT,CAA4BF,KAA5B,EAAmC;AACjCtB,EAAAA,KAAK,CAACuB,QAAN,CAAeH,YAAY,CAACb,MAAM,CAACK,OAAR,CAA3B;AACD;;AAED,SAASa,eAAT,CAAyBH,KAAzB,EAAgC;AAC9B;AACApB,EAAAA,eAAe;AAChB;;AAEDK,MAAM,CAACmB,gBAAP,CAAwB,QAAxB,EAAkCzB,QAAQ,CAAC,GAAD,EAAMoB,kBAAN,CAA1C;AACAd,MAAM,CAACmB,gBAAP,CAAwB,QAAxB,EAAkCzB,QAAQ,CAAC,GAAD,EAAMuB,kBAAN,CAA1C;AACAjB,MAAM,CAACmB,gBAAP,CAAwB,kBAAxB,EAA4CD,eAA5C;AAEA,SAASZ,OAAT","sourcesContent":["import {store} from \"../../store\";\r\nimport { debounce } from \"throttle-debounce\";\r\nimport objectFitImages from \"object-fit-images\";\r\n\r\nconst WINDOW_RESIZE = \"COMMON/WINDOW_RESIZE\";\r\nconst WINDOW_SCROLL = \"COMMON/WINDOW_SCROLL\";\r\n\r\nconst initialState = {\r\n  windowWidth: window.innerWidth,\r\n  windowHeight: window.innerHeight,\r\n  windowScrollTop: window.scrollY,\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case WINDOW_RESIZE:\r\n      return { ...state, windowWidth: payload.windowWidth };\r\n\r\n    case WINDOW_SCROLL:\r\n      return { ...state, windowScrollTop: payload.scrollTop };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// Actions\r\nconst windowResize = (windowWidth, windowHeight) => ({\r\n  type: WINDOW_RESIZE,\r\n  payload: { windowWidth, windowHeight },\r\n});\r\n\r\nconst windowScroll = scrollTop => ({\r\n  type: WINDOW_SCROLL,\r\n  payload: { scrollTop },\r\n});\r\n\r\n// Common handlers\r\nfunction handleWindowResize(event) {\r\n  store.dispatch(windowResize(window.innerWidth, window.innerHeight));\r\n}\r\n\r\nfunction handleWindowScroll(event) {\r\n  store.dispatch(windowScroll(window.scrollY));\r\n}\r\n\r\nfunction handleDOMLoaded(event) {\r\n  // object-fit polyfill\r\n  objectFitImages();\r\n}\r\n\r\nwindow.addEventListener(\"resize\", debounce(100, handleWindowResize));\r\nwindow.addEventListener(\"scroll\", debounce(100, handleWindowScroll));\r\nwindow.addEventListener(\"DOMContentLoaded\", handleDOMLoaded);\r\n\r\nexport { reducer };\r\n"]},"metadata":{},"sourceType":"module"}