{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\konst\\\\Desktop\\\\OnlineShop\\\\Online_Shop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"C:\\\\Users\\\\konst\\\\Desktop\\\\OnlineShop\\\\Online_Shop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"C:\\\\Users\\\\konst\\\\Desktop\\\\OnlineShop\\\\Online_Shop\\\\client\\\\src\\\\utils\\\\layout.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst layout = Layout => {\n  return (_ref) => {\n    let component = _ref.component,\n        middleware = _ref.middleware,\n        rest = _objectWithoutProperties(_ref, [\"component\", \"middleware\"]);\n\n    return React.createElement(Route, Object.assign({}, rest, {\n      render: props => {\n        for (let key in rest) {\n          key != \"computedMatch\" && key != \"location\" && (props[key] = rest[key]);\n        }\n\n        const to = processMidlewares(middleware, props);\n\n        if (to.pathname != props.location.pathname) {\n          return React.createElement(Redirect, {\n            to: to,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 18\n            },\n            __self: this\n          });\n        }\n\n        return React.createElement(Layout, Object.assign({}, props, {\n          component: component,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 21\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 7\n      },\n      __self: this\n    }));\n  };\n};\n\nfunction processMidlewares(middlewares, props) {\n  let location = _objectSpread({}, props.location);\n\n  const replace = data => {\n    location = _objectSpread({}, data);\n  };\n\n  if (middlewares) {\n    if (typeof middlewares === \"function\") {\n      middlewares(props, replace);\n      return location;\n    }\n\n    if (Array.isArray(middlewares)) {\n      for (const middleware of middlewares) {\n        middleware(props, replace);\n      }\n\n      return location;\n    }\n  }\n\n  return location;\n}\n\nexport default layout;","map":{"version":3,"sources":["C:/Users/konst/Desktop/OnlineShop/Online_Shop/client/src/utils/layout.js"],"names":["React","Route","Redirect","layout","Layout","component","middleware","rest","props","key","to","processMidlewares","pathname","location","middlewares","replace","data","Array","isArray"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,kBAAhC;;AAEA,MAAMC,MAAM,GAAIC,MAAD,IAAY;AACzB,SAAO,UAAwC;AAAA,QAArCC,SAAqC,QAArCA,SAAqC;AAAA,QAA1BC,UAA0B,QAA1BA,UAA0B;AAAA,QAAXC,IAAW;;AAC7C,WACE,oBAAC,KAAD,oBAAWA,IAAX;AACE,MAAA,MAAM,EAAEC,KAAK,IAAI;AACf,aAAK,IAAIC,GAAT,IAAgBF,IAAhB,EAAsB;AACpBE,UAAAA,GAAG,IAAI,eAAP,IACKA,GAAG,IAAI,UADZ,KAEMD,KAAK,CAACC,GAAD,CAAL,GAAaF,IAAI,CAACE,GAAD,CAFvB;AAGD;;AAED,cAAMC,EAAE,GAAGC,iBAAiB,CAACL,UAAD,EAAaE,KAAb,CAA5B;;AAEA,YAAIE,EAAE,CAACE,QAAH,IAAeJ,KAAK,CAACK,QAAN,CAAeD,QAAlC,EAA4C;AAC1C,iBAAO,oBAAC,QAAD;AAAU,YAAA,EAAE,EAAEF,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AAED,eAAO,oBAAC,MAAD,oBAAYF,KAAZ;AAAmB,UAAA,SAAS,EAAEH,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AACD,OAfH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADF;AAkBD,GAnBD;AAoBD,CArBD;;AAuBA,SAASM,iBAAT,CAA2BG,WAA3B,EAAwCN,KAAxC,EAA+C;AAC7C,MAAIK,QAAQ,qBAAQL,KAAK,CAACK,QAAd,CAAZ;;AAEA,QAAME,OAAO,GAAIC,IAAD,IAAU;AACxBH,IAAAA,QAAQ,qBAAQG,IAAR,CAAR;AACD,GAFD;;AAIA,MAAIF,WAAJ,EAAiB;AACf,QAAI,OAAOA,WAAP,KAAuB,UAA3B,EAAuC;AACrCA,MAAAA,WAAW,CAACN,KAAD,EAAQO,OAAR,CAAX;AAEA,aAAOF,QAAP;AACD;;AAED,QAAII,KAAK,CAACC,OAAN,CAAcJ,WAAd,CAAJ,EAAgC;AAC9B,WAAK,MAAMR,UAAX,IAAyBQ,WAAzB,EAAsC;AACpCR,QAAAA,UAAU,CAACE,KAAD,EAAQO,OAAR,CAAV;AACD;;AAED,aAAOF,QAAP;AACD;AACF;;AAED,SAAOA,QAAP;AACD;;AAED,eAAeV,MAAf","sourcesContent":["import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst layout = (Layout) => {\r\n  return ({ component, middleware, ...rest }) => {\r\n    return (\r\n      <Route {...rest}\r\n        render={props => {\r\n          for (let key in rest) {\r\n            key != \"computedMatch\"\r\n              && key != \"location\"\r\n              && (props[key] = rest[key])\r\n          }\r\n\r\n          const to = processMidlewares(middleware, props);\r\n\r\n          if (to.pathname != props.location.pathname) {\r\n            return <Redirect to={to} />\r\n          }\r\n\r\n          return <Layout {...props} component={component} />\r\n        }} />\r\n    )\r\n  }\r\n}\r\n\r\nfunction processMidlewares(middlewares, props) {\r\n  let location = { ...props.location };\r\n\r\n  const replace = (data) => {\r\n    location = { ...data };\r\n  }\r\n\r\n  if (middlewares) {\r\n    if (typeof middlewares === \"function\") {\r\n      middlewares(props, replace);\r\n\r\n      return location;\r\n    }\r\n\r\n    if (Array.isArray(middlewares)) {\r\n      for (const middleware of middlewares) {\r\n        middleware(props, replace);\r\n      }\r\n\r\n      return location;\r\n    }\r\n  }\r\n\r\n  return location;\r\n}\r\n\r\nexport default layout;\r\n"]},"metadata":{},"sourceType":"module"}